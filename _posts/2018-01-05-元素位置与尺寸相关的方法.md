---
title:å…ƒç´ ä½ç½®ä¸å°ºå¯¸ç›¸å…³çš„æ–¹æ³•
date: 2018-1-5
description: æˆ‘ä»¬å¸¸å¸¸å¿½ç•¥çš„åœ°æ–¹...
categories:
 - css
 - js
 - jQuery
photos: http://oxpvb4fav.bkt.clouddn.com/box.jpg
tags: css js jQuery
---

## åŸç”Ÿå…ƒç´ ä½ç½®ä¸å°ºå¯¸

### Element.getBoundingClientRect()

è¿™ä¸ªå±æ€§è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å…¶è‡ªèº«çš„å°ºå¯¸(åŒ…å«paddingï¼Œä¸åŒ…å«margin)

**åœ¨ä¸ä½¿ç”¨jQueryçš„æ—¶å€™ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨å¾—æ¯”è¾ƒå¤š**

![](http://oxpvb4fav.bkt.clouddn.com/15151118283331.jpg)

æ³¨æ„é‡Œé¢çš„ä½ç½®å‚æ•°(top/left/right/botttm)æ˜¯ç›¸å¯¹äºè§†å£çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è·å¾—ç›¸å¯¹æ•´ä¸ªæ–‡æ—¦çš„ä½ç½®ï¼Œéœ€è¦åŠ ä¸Šæ»šåŠ¨å€¼ã€‚
ä¸‹é¢æ˜¯MDNå…³äºè¿™ä¸ªå†…å®¹çš„æè¿°ã€‚

>The amount of scrolling that has been done of the viewport area (or any other scrollable element) is taken into account when computing the bounding rectangle. This means that the rectangle's boundary edges (top, left, bottom, and right) change their values every time the scrolling position changes (because their values are relative to the viewport and not absolute). If you need the bounding rectangle relative to the top-left corner of the document, just add the current scrolling position to the top and left properties (these can be obtained using window.scrollX and window.scrollY) to get a bounding rectangle which is independent from the current scrolling position.

åŸç†ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œæˆ‘ç”»äº†ä¸€ä¸ªç®€å›¾ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·å­
![](http://oxpvb4fav.bkt.clouddn.com/15151126374706.jpg)

---

#### æ —å­

å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªbox

![](http://oxpvb4fav.bkt.clouddn.com/15151118643981.jpg)

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style>
		body{
			margin: 0;
			padding: 0;
		}
		.box{
			width: 200px;
			height: 200px;
			background: lightpink;
			padding: 50px;
		}
		.scroll{
			height: 2000px;
		}
	</style>
<body>
	<div class="scroll"></div>
	<div class="box"></div>
	<div class="scroll"></div>
	</body>
<script>
	var box = document.getElementsByClassName('box')[0];
    console.log(box.getBoundingClientRect());
</script>
</html>
```

è¿™ä¸ªï¼Œåœ¨ä¸‹é¢è¿™ä¸ªä½ç½®ï¼Œè·å¾—çš„topæ˜¯92,è€Œæˆ‘ä»¬çš„cssè®¾ç½®çš„æ˜¯2000

æ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦åŠ ä¸Šæˆ‘ä»¬çš„è§†å£æ»šåŠ¨çš„ä½ç½®ã€‚

å› æ­¤
```top = window.scrollY+getBoundingClientRect().top```

```js

var box = document.getElementsByClassName('box')[0];
console.log(box.getBoundingClientRect());
console.log(box.getBoundingClientRect().top+window.scrollY)//2000
```

ç»“æœï¼šæ˜¯2000,æ²¡æ¯›ç—…

---

### Element.clientHeight

è¿™ä¸ªå±æ€§æ˜¯åªè¯»å±æ€§ï¼Œå¯¹äºæ²¡æœ‰å®šä¹‰CSSæˆ–è€…å†…è”å¸ƒå±€ç›’å­çš„å…ƒç´ ä¸º0ï¼ŒåŒæ—¶å®ƒæ˜¯å…ƒç´ å†…éƒ¨çš„é«˜åº¦(å•ä½åƒç´ )ï¼ŒåŒ…å«å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬æ°´å¹³æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚

clientHeight å¯ä»¥é€šè¿‡ CSS height + CSS padding - æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ (å¦‚æœå­˜åœ¨)æ¥è®¡ç®—.

![](http://oxpvb4fav.bkt.clouddn.com/15151408435991.png)

---

## jQuery å°ºå¯¸ç›¸å…³

### $node.width()
```//content```
![](http://oxpvb4fav.bkt.clouddn.com/15151411453558.gif)

---

### $node.innerWidth()
```//content+padding```
![](http://oxpvb4fav.bkt.clouddn.com/15151411243272.gif)

---

### $node.outerWidth()

**$node.outerWidth
```//content+padding+border```**

**$node.outerWidth(true)
```//content+padding+border+margin```**

![](http://oxpvb4fav.bkt.clouddn.com/15151411703461.gif)

---

## é¼ æ ‡ä½ç½®

### MouseEvent.pageX

>The pageX read-only property of the MouseEvent interface returns the X (horizontal) coordinate (in pixels) at which the mouse was clicked, relative to the left edge of the entire document. This includes any portion of the document not currently visible.

è¿™ä¸ªå±æ€§è¿”å›çš„æ˜¯ä¸€ä¸ªç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£çš„æ¨ªå‘ä½ç½®(ç›¸å¯¹äºæœ€å·¦ç«¯)ï¼Œç”±äºæ˜¯ç›¸å¯¹æ–‡æ¡£ï¼Œå› æ­¤åŒ…å«äº†ä¸€äº›ä¸å¯è§çš„åŒºåŸŸ(æ¯”å¦‚æˆ‘ä»¬æ»šåŠ¨äº†ä¸€å®šè·ç¦»)

æ¯”å¦‚ä¸‹é¢boxé‡Œé¼ æ ‡çš„ä½ç½®ï¼Œå°±æ˜¯ç›¸å¯¹æ•´ä¸ªæ–‡æ¡£çš„ã€‚
![](http://oxpvb4fav.bkt.clouddn.com/15151137928161.jpg)

æ¼”ç¤ºå¯ä»¥çœ‹[è¿™é‡Œ](https://codepen.io/atoms_zeller/pen/NXaajw)

---

### MouseEvent.clientX

clientX è®¾ç½®æˆ–è·å–é¼ æ ‡æŒ‡é’ˆä½ç½®ç›¸å¯¹äºå½“å‰çª—å£çš„ x åæ ‡ï¼Œå…¶ä¸­å®¢æˆ·åŒºåŸŸä¸åŒ…æ‹¬çª—å£è‡ªèº«çš„æ§ä»¶å’Œæ»šåŠ¨æ¡ã€‚ 

æ‰€ä»¥æ•´ä¸ªåæ ‡æ˜¯ç›¸å¯¹æˆ‘ä»¬è§†å£çš„ã€‚

![](http://oxpvb4fav.bkt.clouddn.com/15151150030346.jpg)

[æ¼”ç¤º](https://codepen.io/atoms_zeller/pen/zpEEWV)

---

### MouseEvent.screenX

é¼ æ ‡ç›¸å¯¹äºå±å¹•çš„ä½ç½®

![](http://oxpvb4fav.bkt.clouddn.com/15151403297711.jpg)

---

## windowå°ºå¯¸ç›¸å…³

### window.innerHeight/innerWidth

![](http://oxpvb4fav.bkt.clouddn.com/15151406509867.jpg)

>Height/Width (in pixels) of the browser window viewport ã€‚including, if rendered, the horizontal/vertical scrollbar.
>
>è¿”å›ä¸€ä¸ªåŒ…å«æ»šåŠ¨æ¡çš„æµè§ˆå™¨å®½é«˜ã€‚

![](http://oxpvb4fav.bkt.clouddn.com/15151414515861.png)

å…³äº**outerHeight/outerHeight**çš„éƒ¨åˆ†ä¹Ÿè¯·çœ‹ä¸Šé¢ğŸ‘†å›¾ï¼Œè°¢è°¢ã€‚


ä»¥ä¸Šï¼Œè°¢è°¢

